{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/arkajit/Desktop/shareYourExp/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _defineProperty from\"/home/arkajit/Desktop/shareYourExp/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/home/arkajit/Desktop/shareYourExp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/arkajit/Desktop/shareYourExp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/arkajit/Desktop/shareYourExp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3;import{useState,useEffect,useContext}from'react';import{Box,Typography,styled}from'@mui/material';import{Delete,Edit}from'@mui/icons-material';import{Link,useNavigate,useParams}from'react-router-dom';import{API}from'../../service/api';import{DataContext}from'../../context/DataProvider';import Comments from'./Comments';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DetailView=function DetailView(){var url='https://images.unsplash.com/photo-1543128639-4cb7e6eeef1b?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8bGFwdG9wJTIwc2V0dXB8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80';var _useState=useState({}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useContext=useContext(DataContext),account=_useContext.account;var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return API.getPostById(id);case 2:response=_context.sent;if(response.isSuccess){setPost(response.data);}case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[id]);var deleteBlog=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return API.deletePost(post._id);case 2:navigate('/');case 3:case\"end\":return _context2.stop();}},_callee2);}));return function deleteBlog(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Image,{src:post.picture||url,alt:\"post\"}),/*#__PURE__*/_jsx(Box,{style:{float:'right'},children:account.username===post.username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/update/\".concat(post._id),children:/*#__PURE__*/_jsx(EditIcon,{color:\"primary\"})}),/*#__PURE__*/_jsx(DeleteIcon,{onClick:function onClick(){return deleteBlog();},color:\"error\"})]})}),/*#__PURE__*/_jsx(Heading,{children:post.title}),/*#__PURE__*/_jsxs(Author,{children:[/*#__PURE__*/_jsx(Link,{to:\"/?username=\".concat(post.username),style:{textDecoration:'none',color:'inherit'},children:/*#__PURE__*/_jsxs(Typography,{children:[\"Author: \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:600},children:post.username})]})}),/*#__PURE__*/_jsx(Typography,{style:{marginLeft:'auto'},children:new Date(post.createdDate).toDateString()})]}),/*#__PURE__*/_jsx(Typography,{children:post.description}),/*#__PURE__*/_jsx(Comments,{post:post})]});};var Container=styled(Box)(function(_ref3){var theme=_ref3.theme;return _defineProperty({margin:'50px 100px'},theme.breakpoints.down('md'),{margin:0});});var Image=styled('img')({width:'100%',height:'50vh',objectFit:'cover'});var EditIcon=styled(Edit)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    margin: 5px;\\n    padding: 5px;\\n    border: 1px solid #878787;\\n    border-radius: 10px;\\n\"])));var DeleteIcon=styled(Delete)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    margin: 5px;\\n    padding: 5px;\\n    border: 1px solid #878787;\\n    border-radius: 10px;\\n\"])));var Heading=styled(Typography)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    font-size: 38px;\\n    font-weight: 600;\\n    text-align: center;\\n    margin: 50px 0 10px 0;\\n\"])));var Author=styled(Box)(function(_ref5){var theme=_ref5.theme;return _defineProperty({color:'#878787',display:'flex',margin:'20px 0'},theme.breakpoints.down('sm'),{display:'block'});});export default DetailView;","map":{"version":3,"names":["useState","useEffect","useContext","Box","Typography","styled","Delete","Edit","Link","useNavigate","useParams","API","DataContext","Comments","DetailView","url","post","setPost","account","navigate","id","fetchData","getPostById","response","isSuccess","data","deleteBlog","deletePost","_id","picture","float","username","title","textDecoration","color","fontWeight","marginLeft","Date","createdDate","toDateString","description","Container","theme","margin","breakpoints","down","Image","width","height","objectFit","EditIcon","DeleteIcon","Heading","Author","display"],"sources":["/home/arkajit/Desktop/shareYourExp/client/src/components/details/DetailView.jsx"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\n\nimport { Box, Typography, styled } from '@mui/material';\nimport { Delete, Edit } from '@mui/icons-material';\nimport { Link, useNavigate, useParams } from 'react-router-dom'\n\nimport { API } from '../../service/api';\n\nimport { DataContext } from '../../context/DataProvider';\nimport Comments from './Comments';\n\n\n\nconst DetailView = () => {\n    const url = 'https://images.unsplash.com/photo-1543128639-4cb7e6eeef1b?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8bGFwdG9wJTIwc2V0dXB8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80';\n    \n    const [post, setPost] = useState({});\n    const { account } = useContext(DataContext);\n\n    const navigate = useNavigate();\n    const { id } = useParams();\n    \n    useEffect(() => {\n        const fetchData = async () => {\n            let response = await API.getPostById(id);\n            if (response.isSuccess) {\n                setPost(response.data);\n            }\n        }\n        fetchData();\n    }, [id]);\n\n    const deleteBlog = async () => {  \n        await API.deletePost(post._id);\n        navigate('/');\n    }\n\n    return (\n        <Container>\n            <Image src={post.picture || url} alt=\"post\" />\n            <Box style={{ float: 'right' }}>\n                {   \n                    account.username === post.username && \n                    <>  \n                        <Link to={`/update/${post._id}`}><EditIcon color=\"primary\" /></Link>\n                        <DeleteIcon onClick={() => deleteBlog()} color=\"error\" />\n                    </>\n                }\n            </Box>\n            <Heading>{post.title}</Heading>\n\n            <Author>\n                <Link to={`/?username=${post.username}`} style={{ textDecoration: 'none', color: 'inherit' }}>\n                    <Typography>Author: <span style={{fontWeight: 600}}>{post.username}</span></Typography>\n                </Link>\n                <Typography style={{marginLeft: 'auto'}}>{new Date(post.createdDate).toDateString()}</Typography>\n            </Author>\n\n            <Typography>{post.description}</Typography>\n            <Comments post={post}/>\n        </Container>\n    )\n}\n\nconst Container = styled(Box)(({ theme }) => ({\n    margin: '50px 100px',\n    [theme.breakpoints.down('md')]: {\n        margin: 0\n    },\n}));\n\nconst Image = styled('img')({\n    width: '100%',\n    height: '50vh',\n    objectFit: 'cover'\n});\n\nconst EditIcon = styled(Edit)`\n    margin: 5px;\n    padding: 5px;\n    border: 1px solid #878787;\n    border-radius: 10px;\n`;\n\nconst DeleteIcon = styled(Delete)`\n    margin: 5px;\n    padding: 5px;\n    border: 1px solid #878787;\n    border-radius: 10px;\n`;\n\nconst Heading = styled(Typography)`\n    font-size: 38px;\n    font-weight: 600;\n    text-align: center;\n    margin: 50px 0 10px 0;\n`;\n\nconst Author = styled(Box)(({ theme }) => ({\n    color: '#878787',\n    display: 'flex',\n    margin: '20px 0',\n    [theme.breakpoints.down('sm')]: {\n        display: 'block'\n    },\n}));\n\nexport default DetailView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}